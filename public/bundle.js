var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function r(t){t.forEach(n)}function o(t){return"function"==typeof t}function c(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function u(t,n,e){t.insertBefore(n,e||null)}function f(t){t.parentNode.removeChild(t)}function i(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function l(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function a(){return t="",document.createTextNode(t);var t}function s(t,n,e){null==e?t.removeAttribute(n):t.setAttribute(n,e)}function p(t,n,e,r){t.style.setProperty(n,e,r?"important":"")}let d;function h(t){d=t}const g=[],m=[],y=[],b=[],$=Promise.resolve();let v=!1;function x(t){y.push(t)}function j(){const t=new Set;do{for(;g.length;){const t=g.shift();h(t),w(t.$$)}for(;m.length;)m.pop()();for(let n=0;n<y.length;n+=1){const e=y[n];t.has(e)||(e(),t.add(e))}y.length=0}while(g.length);for(;b.length;)b.pop()();v=!1}function w(t){t.fragment&&(t.update(t.dirty),r(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(x))}const _=new Set;function O(t,n){t.$$.dirty||(g.push(t),v||(v=!0,$.then(j)),t.$$.dirty=e()),t.$$.dirty[n]=!0}function k(c,u,f,i,l,a){const s=d;h(c);const p=u.props||{},g=c.$$={fragment:null,ctx:null,props:a,update:t,not_equal:l,bound:e(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(s?s.$$.context:[]),callbacks:e(),dirty:null};let m=!1;var y,b,$;g.ctx=f?f(c,p,(t,n,e=n)=>(g.ctx&&l(g.ctx[t],g.ctx[t]=e)&&(g.bound[t]&&g.bound[t](e),m&&O(c,t)),n)):p,g.update(),m=!0,r(g.before_update),g.fragment=i(g.ctx),u.target&&(u.hydrate?g.fragment.l(($=u.target,Array.from($.childNodes))):g.fragment.c(),u.intro&&((y=c.$$.fragment)&&y.i&&(_.delete(y),y.i(b))),function(t,e,c){const{fragment:u,on_mount:f,on_destroy:i,after_update:l}=t.$$;u.m(e,c),x(()=>{const e=f.map(n).filter(o);i?i.push(...e):r(e),t.$$.on_mount=[]}),l.forEach(x)}(c,u.target,u.anchor),j()),h(s)}class A{$destroy(){var n,e;e=1,(n=this).$$.fragment&&(r(n.$$.on_destroy),n.$$.fragment.d(e),n.$$.on_destroy=n.$$.fragment=null,n.$$.ctx={}),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}var N=1/0,S=9007199254740991,E=1.7976931348623157e308,C=NaN,M="[object Function]",F="[object GeneratorFunction]",I="[object Symbol]",P=/^\s+|\s+$/g,G=/^[-+]0x[0-9a-f]+$/i,q=/^0b[01]+$/i,B=/^0o[0-7]+$/i,L=/^(?:0|[1-9]\d*)$/,T=parseInt,z=Object.prototype.toString,D=Math.ceil,H=Math.max;function J(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function K(t){return t?(t=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&z.call(t)==I}(t))return C;if(J(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=J(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(P,"");var e=q.test(t);return e||B.test(t)?T(t.slice(2),e?2:8):G.test(t)?C:+t}(t))===N||t===-N?(t<0?-1:1)*E:t==t?t:0:0===t?t:0}var Q,R=function(t,n,e){return e&&"number"!=typeof e&&function(t,n,e){if(!J(e))return!1;var r=typeof n;return!!("number"==r?function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=S}(t.length)&&!function(t){var n=J(t)?z.call(t):"";return n==M||n==F}(t)}(e)&&function(t,n){return!!(n=null==n?S:n)&&("number"==typeof t||L.test(t))&&t>-1&&t%1==0&&t<n}(n,e.length):"string"==r&&n in e)&&function(t,n){return t===n||t!=t&&n!=n}(e[n],t)}(t,n,e)&&(n=e=void 0),t=K(t),void 0===n?(n=t,t=0):n=K(n),function(t,n,e,r){for(var o=-1,c=H(D((n-t)/(e||1)),0),u=Array(c);c--;)u[r?c:++o]=t,t+=e;return u}(t,n,e=void 0===e?t<n?1:-1:K(e),Q)},U=9007199254740991,V="[object Arguments]",W="[object Function]",X="[object GeneratorFunction]",Y=/^(?:0|[1-9]\d*)$/;function Z(t,n){return function(t,n){for(var e=-1,r=t?t.length:0,o=Array(r);++e<r;)o[e]=n(t[e],e,t);return o}(n,function(n){return t[n]})}var tt,nt,et=Object.prototype,rt=et.hasOwnProperty,ot=et.toString,ct=et.propertyIsEnumerable,ut=Math.floor,ft=(tt=Object.keys,nt=Object,function(t){return tt(nt(t))}),it=Math.random;function lt(t,n){var e=pt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&dt(t)}(t)&&rt.call(t,"callee")&&(!ct.call(t,"callee")||ot.call(t)==V)}(t)?function(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}(t.length,String):[],r=e.length,o=!!r;for(var c in t)!n&&!rt.call(t,c)||o&&("length"==c||st(c,r))||e.push(c);return e}function at(t){if(e=(n=t)&&n.constructor,r="function"==typeof e&&e.prototype||et,n!==r)return ft(t);var n,e,r,o=[];for(var c in Object(t))rt.call(t,c)&&"constructor"!=c&&o.push(c);return o}function st(t,n){return!!(n=null==n?U:n)&&("number"==typeof t||Y.test(t))&&t>-1&&t%1==0&&t<n}var pt=Array.isArray;function dt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=U}(t.length)&&!function(t){var n=function(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}(t)?ot.call(t):"";return n==W||n==X}(t)}var ht=function(t){var n,e,r,o=dt(t)?t:(n=t)?Z(n,function(t){return dt(t)?lt(t):at(t)}(n)):[],c=o.length;return c>0?o[(e=0,r=c-1,e+ut(it()*(r-e+1)))]:void 0};function gt(t,n,e){const r=Object.create(t);return r.c=n[e],r}function mt(t,n,e){const r=Object.create(t);return r.r=n[e],r}function yt(t){var n;return{c(){s(n=l("rect"),"x",jt*t.c),s(n,"y",jt*t.r),s(n,"width","29"),s(n,"height","29"),p(n,"fill",0==t.matrix[t.r][t.c]?"gray":"black")},m(t,e){u(t,n,e)},p(t,e){t.matrix&&p(n,"fill",0==e.matrix[e.r][e.c]?"gray":"black")},d(t){t&&f(n)}}}function bt(t){var n;let e=R(vt),r=[];for(let n=0;n<e.length;n+=1)r[n]=yt(gt(t,e,n));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();n=a()},m(t,e){for(let n=0;n<r.length;n+=1)r[n].m(t,e);u(t,n,e)},p(t,o){if(t.cc||t.range||t.tw||t.th||t.matrix){let c;for(e=R(vt),c=0;c<e.length;c+=1){const u=gt(o,e,c);r[c]?r[c].p(t,u):(r[c]=yt(u),r[c].c(),r[c].m(n.parentNode,n))}for(;c<r.length;c+=1)r[c].d(1);r.length=e.length}},d(t){i(r,t),t&&f(n)}}}function $t(n){var e;let r=R(xt),o=[];for(let t=0;t<r.length;t+=1)o[t]=bt(mt(n,r,t));return{c(){e=l("svg");for(let t=0;t<o.length;t+=1)o[t].c();s(e,"width","300"),s(e,"height","600")},m(t,n){u(t,e,n);for(let t=0;t<o.length;t+=1)o[t].m(e,null)},p(t,n){if(t.range||t.tw||t.cc||t.th||t.matrix){let c;for(r=R(xt),c=0;c<r.length;c+=1){const u=mt(n,r,c);o[c]?o[c].p(t,u):(o[c]=bt(u),o[c].c(),o[c].m(e,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=r.length}},i:t,o:t,d(t){t&&f(e),i(o,t)}}}const vt=10,xt=20,jt=30;function wt(t,n,e){const r=[],o=[];let c=3,u=-1,f=0,i=0;for(const t of R(xt)){r[t]=[],e("matrix",o[t]=[],o);for(const n of R(vt))r[t][n]=0,e("matrix",o[t][n]=0,o)}const l="00001111 01100110 00100111 01000111 00010111 00110110 01100011".split(" "),a=()=>"0000"+ht(l)+"0000";let s=a();function p(t,n=0){let f="",l=0;for(let d of R(4))for(let h of R(4))1==s[h+4*d]&&(1==t&&e("matrix",o[d+u][h+c]=1,o),2==t&&(d+u>xt-2||1==r[d+u+1][h+c])&&(p(3),s=a(),c=3,u=-1,i=0),3==t&&(r[d+u][h+c]=1),5==t&&(h+c>vt-2&&1==n||h+c<1&&-1==n)&&(l=1)),4==t&&(f+=s[d+4*(3-h)]);s=4==t?f:s,l||(c+=n)}return setInterval(function(){(++f>20||i)&&(u++,f=0,p(2)),function t(n,c){for(const u of R(xt)){let f=0;for(const t of R(vt))e("matrix",o[u][t]=0,o),r[u][t]&&(e("matrix",o[u][t]=1,o),f++),2==n&&xt-u<c+1&&(r[xt-u][t]=r[xt-u-1][t]);if(f==vt){for(const t of R(vt))r[u][t]=0;t(2,u)}}}(1,0),p(1)},33),document.addEventListener("keydown",function(t){37==t.keyCode&&p(5,-1),38==t.keyCode&&p(4),39==t.keyCode&&p(5,1),40==t.keyCode&&(i=1)}),{matrix:o}}return new class extends A{constructor(t){super(),k(this,t,wt,$t,c,[])}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
